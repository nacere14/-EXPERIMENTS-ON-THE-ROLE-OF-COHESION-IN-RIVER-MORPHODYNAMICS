<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0066)file:///C:/Users/nacere%20samassi/Downloads/concersiovers3xg0.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      -->
<title>concersiovers3xg0</title>
<meta name="generator" content="MATLAB 23.2">
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
<meta name="DC.date" content="2025-06-10">
<meta name="DC.source" content="concersiovers3xg0.m">
<style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; }

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }
span.typesection { color:#A0522D }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style>
</head>
<body>
<div class="content">
<h2>Contents</h2>
<div>
<ul>
<li>
<a href="file:///C:/Users/nacere%20samassi/Downloads/concersiovers3xg0.html#3">calibration and conversion factor for all binary images</a>
</li>
<li>
<a href="file:///C:/Users/nacere%20samassi/Downloads/concersiovers3xg0.html#7">velocity</a>
</li>
<li>
<a href="file:///C:/Users/nacere%20samassi/Downloads/concersiovers3xg0.html#8">loading</a>
</li>
<li>
<a href="file:///C:/Users/nacere%20samassi/Downloads/concersiovers3xg0.html#11">miscellaneous</a>
</li>
</ul>
</div>
<pre class="codeinput">clc;
clear <span class="string">all</span>;
close <span class="string">all</span>;
</pre>
<pre class="codeinput">uploading=imread(<span class="string">'binary5.png'</span>);
figure;
imshow(uploading);
</pre>
<pre class="codeoutput error">Error using imread&gt;get_full_filename
File "binary5.png" does not exist.

Error in imread (line 372)
        fullname = get_full_filename(filename);

Error in concersiovers3xg0 (line 5)
uploading=imread('binary5.png');
</pre>
<h2 id="3">calibration and conversion factor for all binary images</h2>
<pre class="codeinput">folder=<span class="string">'/data2/nacere/Processing/XG0/Binary_images'</span>;
files=dir(fullfile(folder, <span class="string">'binary*.png'</span>));
<span class="keyword">for</span> imgNum=1:length(files)
    imgpath=fullfile(folder,files(imgNum).name);
    img=imread(imgpath);
    img=imfill(img,<span class="string">'holes'</span>);
    [height,width]=size(img);
    <span class="comment">% height and length of white channel</span>
    <span class="comment">%height_channel=regionprops(img,'MajorAxisLength');</span>
    <span class="comment">%boundingbox=[height_channel.BoundingBox];</span>
    widths(imgNum)=width;
    <span class="comment">%lengths=max([height_channel.MajorAxisLength]);</span>
    length_all=widths/65.075; <span class="comment">%cm %% why 65.075cm? because the raw image with a ruler placed on the bed and captured before running the experiment measure 65.075cm in length</span>
<span class="keyword">end</span>
</pre>
<pre class="codeinput">save(<span class="string">'lengthpx_xg05.mat'</span>,<span class="string">'widths'</span>);  <span class="comment">% here widths refered to the binary image in each xg folder. For instance xg05 has 30 binary images and we extratced the length of each binary image and saved them into widths</span>
<span class="comment">%length_image= 65.075; %cm</span>
save(<span class="string">'conversionfxg5.mat'</span>,<span class="string">'length_all'</span>);
</pre>
<pre class="codeinput">load(<span class="string">'avgr_widthslast05.mat'</span>);
widthsxg5=(avgr_widths)./(length_all);
save(<span class="string">'widthscmxg05.mat'</span>,<span class="string">'widthsxg5'</span>);
</pre>
<pre class="codeinput">mm=mean(widthsxg5);
</pre>
<h2 id="7">velocity</h2>
<pre class="codeinput">folder_x=<span class="string">'/data2/nacere/Processing/XG0/Particles_u-v'</span>;
files=dir(fullfile(folder_x, <span class="string">'u_originalsess*.mat'</span>));
<span class="keyword">for</span> i = 1:length(files)
    Velocity_x= u_originalsess;
    velocity_xavg(i)= nanmean(Velocity_x(:));
<span class="keyword">end</span>
save(<span class="string">'velo_xxg0.mat'</span>,<span class="string">'velocity_xavg'</span>);
</pre>
<h2 id="8">loading</h2>
<pre class="codeinput">load(<span class="string">'velo_xxg0.mat'</span>);
</pre>
<pre class="codeinput">load(<span class="string">'conversionfxg0.mat'</span>);
</pre>
<pre class="codeinput">veloc_cmxg0=(velocity_xavg./length_all)/0.167; <span class="comment">%here same process as above but since the camera captures every 60 s we had to incorportare it into the conversion. Bearing in mind from 0 to 0.3% X.g we selected every 10th frames and 50th frames were selected for 0.4 and 0.5%</span>
</pre>
<h2 id="11">miscellaneous</h2>
<pre class="codeinput">load(<span class="string">'conversionfxg0.mat'</span>);
</pre>
<pre class="codeinput">x=load(<span class="string">'v_originalsess16.mat'</span>);
maaa=nanmean(u_original{1,1});
</pre>
<p class="footer">
<br>
<a href="https://www.mathworks.com/products/matlab/">Published with MATLABÂ® R2023b</a>
<br>
</p>
</div>
<!--
##### SOURCE BEGIN #####
clc; 
clear all;
close all; 
%% 
uploading=imread('binary5.png');
figure;
imshow(uploading);
%% calibration and conversion factor for all binary images 
folder='/data2/nacere/Processing/XG0/Binary_images';
files=dir(fullfile(folder, 'binary*.png'));
for imgNum=1:length(files)
    imgpath=fullfile(folder,files(imgNum).name);
    img=imread(imgpath);
    img=imfill(img,'holes');
    [height,width]=size(img);
    % height and length of white channel 
    %height_channel=regionprops(img,'MajorAxisLength');
    %boundingbox=[height_channel.BoundingBox];
    widths(imgNum)=width;
    %lengths=max([height_channel.MajorAxisLength]);
    length_all=widths/65.075; %cm %% why 65.075cm? because the raw image with a ruler placed on the bed and captured before running the experiment measure 65.075cm in length
end
%%
save('lengthpx_xg05.mat','widths');  % here widths refered to the binary image in each xg folder. For instance xg05 has 30 binary images and we extratced the length of each binary image and saved them into widths
%length_image= 65.075; %cm 
save('conversionfxg5.mat','length_all');
%%
load('avgr_widthslast05.mat');
widthsxg5=(avgr_widths)./(length_all);
save('widthscmxg05.mat','widthsxg5');
%%
mm=mean(widthsxg5);
%% velocity
folder_x='/data2/nacere/Processing/XG0/Particles_u-v';
files=dir(fullfile(folder_x, 'u_originalsess*.mat'));
for i = 1:length(files)
    Velocity_x= u_originalsess;
    velocity_xavg(i)= nanmean(Velocity_x(:));
end
save('velo_xxg0.mat','velocity_xavg');
%% loading 
load('velo_xxg0.mat');
%%
load('conversionfxg0.mat');
%%
veloc_cmxg0=(velocity_xavg./length_all)/0.167; %here same process as above but since the camera captures every 60 s we had to incorportare it into the conversion. Bearing in mind from 0 to 0.3% X.g we selected every 10th frames and 50th frames were selected for 0.4 and 0.5%

%% miscellaneous 
load('conversionfxg0.mat');
%%
x=load('v_originalsess16.mat');
maaa=nanmean(u_original{1,1});
##### SOURCE END #####
-->


</body></html>